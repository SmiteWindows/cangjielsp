{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "title": "Cangjie Debug Configuration",
  "properties": {
    "type": {
      "type": "string",
      "const": "Cangjie",
      "description": "调试器类型（固定为 Cangjie）"
    },
    "name": {
      "type": "string",
      "description": "调试配置名称（自定义）"
    },
    "request": {
      "type": "string",
      "enum": ["launch", "attach"],
      "default": "launch",
      "description": "调试请求类型：启动（launch）或附加（attach）"
    },
    "target": {
      "type": "string",
      "description": "目标二进制文件路径（默认自动识别 cjpm 构建产物）"
    },
    "args": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "目标程序运行参数"
    },
    "cwd": {
      "type": "string",
      "default": "${workspaceFolder}",
      "description": "工作目录（默认项目根目录）"
    },
    "port": {
      "type": "integer",
      "default": 50051,
      "description": "调试端口（与 cjdb 配置一致）"
    },
    "timeout": {
      "type": "integer",
      "default": 30,
      "description": "调试超时时间（秒）"
    },
    "trackCoroutines": {
      "type": "boolean",
      "default": true,
      "description": "启用协程追踪（仓颉特色功能）"
    },
    "performanceProfiling": {
      "type": "boolean",
      "default": false,
      "description": "调试时启用性能采样（与 cjprof 联动）"
    },
    "profilingTypes": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": ["Cpu", "Memory", "Coroutine", "Lock", "Io", "Gc"]
      },
      "default": ["Cpu", "Coroutine"],
      "description": "性能采样类型（仅 performanceProfiling 为 true 时有效）"
    }
  },
  "required": ["type", "name", "request"],
  "additionalProperties": false
}
