id = "cangjie"
name = "Cangjie"
description = "提供仓颉语言的完整支持，包括语法高亮、代码补全、诊断和调试功能（基于官方SDK）"
version = "0.2.0"
schema_version = 1
authors = ["Smite Rust <https://github.com/SmiteWindows>"]
repository = "https://github.com/SmiteWindows/cangjielsp"
license = "Apache 2.0"

[language_servers.cangjie-language-server]
name = "cangjie-language-server"
language = "Cangjie"
# 明确指定命令（可选，优先级低于代码中的逻辑，但增强可读性）
command = "LSPServer"

[language_servers.cangjie-language-server.language_ids]
"Cangjie" = "cangjie"

[grammars.cangjie]
repository = "https://gitcode.com/Cangjie-SIG/tree-sitter-cangjie"
rev = "main"
path = "tree-sitter-cangjie" # 明确语法库路径

[debug_adapters.Cangjie]
schema_path = "debug_adapter_schemas/Cangjie.json"
supports_launch = true
supports_attach = false

# 扩展配置默认值（与 CangjieLspConfig 对齐）
[configuration.cangjie]
type = "table"
description = "仓颉语言扩展配置"

[configuration.cangjie.disable_auto_import]
type = "boolean"
description = "禁用自动导入功能"
default = true

[configuration.cangjie.enable_log]
type = "boolean"
description = "启用语言服务器日志"
default = true

[configuration.cangjie.log_level]
type = "string"
description = "日志级别（trace/debug/info/warn/error）"
default = "info"
enum = ["trace", "debug", "info", "warn", "error"]
